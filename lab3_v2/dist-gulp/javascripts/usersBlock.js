function _typeof(e){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _defineProperties(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,_toPropertyKey(a.key),a)}}function _createClass(e,t,n){return t&&_defineProperties(e.prototype,t),n&&_defineProperties(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function _toPropertyKey(e){e=_toPrimitive(e,"string");return"symbol"===_typeof(e)?e:String(e)}function _toPrimitive(e,t){if("object"!==_typeof(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0===n)return("string"===t?String:Number)(e);n=n.call(e,t||"default");if("object"!==_typeof(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}import{callAjax}from"./callAjax.js";var UsersBlock=function(){function e(){_classCallCheck(this,e)}return _createClass(e,[{key:"initialize",value:function(){var t=this,n=$(".modal");$(".userPersonalTab-accordion").accordion(),$(".select-menu").selectmenu(),$(".close").on("click",function(){n.css("display","none")}),$(".change-button").on("click",function(e){t.currentPersonalTab=$(e.currentTarget).closest(".userPersonalTab");e=t.getUserData(t.currentPersonalTab);t.setModalInputForm(e),n.css("display","block")}),$("#form-change-userName").on("submit",function(e){e.preventDefault();e=t.getModalInputForm();e.id=t.currentPersonalTab.attr("id"),callAjax("/put/user","PUT",function(){},JSON.stringify(e),"application/json"),t.setUserData(t.currentPersonalTab,e),n.css("display","none")}),$(".friends-button").on("click",function(){var e=$(event.currentTarget).closest(".userPersonalTab").attr("id");window.location.href="/friends?id=".concat(e)}),$(".news-button").on("click",function(){var e=$(event.currentTarget).closest(".userPersonalTab").attr("id");window.location.href="/news?id=".concat(e)})}},{key:"getUserData",value:function(e){var t={};return t.firstName=e.find("#firstName-span").text(),t.lastName=e.find("#lastName-span").text(),t.middleName=e.find("#middleName-span").text(),t.email=e.find("#email-span").text(),t.role=e.find("#role-span").text(),t.status=e.find("#status-span").text(),t}},{key:"setUserData",value:function(e,t){e.find("#firstName-span").text(t.firstName),e.find("#lastName-span").text(t.lastName),e.find("#middleName-span").text(t.middleName),e.find("#email-span").text(t.email),e.find("#role-span").text(t.role),e.find("#status-span").text(t.status)}},{key:"setModalInputForm",value:function(n){$("#firstName").val(n.firstName),$("#lastName").val(n.lastName),$("#middleName").val(n.middleName),$("#email").val(n.email),$("#select-role option").each(function(e,t){$(t).text()===n.role&&$(t).prop("selected",!0)}),$("#select-status option").each(function(e,t){$(t).text()===n.status&&$(t).prop("selected",!0)}),$("#select-role").selectmenu("refresh"),$("#select-status").selectmenu("refresh")}},{key:"getModalInputForm",value:function(){return{firstName:$("#firstName").val(),lastName:$("#lastName").val(),middleName:$("#middleName").val(),email:$("#email").val(),role:$("#select-role option:selected").text(),status:$("#select-status option:selected").text()}}}]),e}();export default UsersBlock;